<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../WEB-INF/sharkzTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="main">
        
        <!-- Scroll down script -->
        <h:outputScript library="js" name="scrollToAnchor.js" />
        
        <!-- Slider -->
            <div id="slider">
                
                <!-- Search box -->
                <div id="search_wrapper" class="card">
                    
                    <!-- Heading -->
                    <div id="search_heading">
                        <h1>
                            Inserate suchen
                        </h1>
                    </div>
                    
                    <!-- Search form -->
                    <div id="search_field_wrapper">
                        <h:form>
                            
                            <!-- Usage select menu -->
                            <h:selectOneMenu
                                class="search_select_menu search_select_left"
                                value="#{search.usage}">
                                <f:selectItems
                                    var="u"
                                    value="#{search.usageTypeValues}"
                                    itemValue="#{u}"
                                    itemLabel="#{u.label}"/>
                            </h:selectOneMenu>
                            
                            <!-- Location text field -->
                            <h:inputText class="inputText search_input_text"
                                         a:placeholder="Wohnort oder PLZ eingeben"
                                         value="#{search.location}" />
                            
                            <!-- OfferType select menu -->
                            <h:selectOneMenu class="search_select_menu search_select_right"
                                             value="#{search.offer}" >
                                <f:selectItems
                                    var="o"
                                    value="#{search.offerTypeValues}"
                                    itemValue="#{o}"
                                    itemLabel="#{o.label}"/>
                            </h:selectOneMenu>
                            
                            <!-- Search button -->
                            <h:commandButton
                                styleClass="button search_button"
                                value="SUCHEN"
                                type="submit"
                                action="#{home.search}" />
                            
                        </h:form>
                    </div>
                </div>
                
                <!-- Scroll button -->
                <a id="scroll_button" onclick="scrollToAnchor('main');">
                    <i class="fa fa-angle-down" aria-hidden="true" />
                </a>
                
            </div>
        
            <a name="main" />
            <div id="main">
                <div class="featured_wrapper">
                    
                    <c:forEach
                        items="#{home.fetchLuxury()}" 
                        var="item">
                    
                        <div class="card" style="width: #{home.calcCardWidth()}">
                            <h:graphicImage
                                class="feat_img"
                                value="/images?insertion_id=#{item.insertion.ID}" />
                            
                            <div class="description">
                                #{item.insertion.title}
                            </div>
                            
                            <div class="button_wrapper">
                                <h:link class="button_flat" outcome="insertion">
                                    <f:param
                                        name="insertion_id"
                                        value="#{item.insertion.ID}"/>
                                    
                                    BETRACHTEN
                                </h:link>
                            </div>
                        </div>
                    
                    </c:forEach>
                </div>
                
               
                <div id="insurance_wrapper">
                    
                </div>
            </div>

    </ui:define>
    
</ui:composition>
