<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

    <h:body>
        <ui:composition>

            <!-- Wohnen -->
            <h:link styleClass="menu_item" outcome="search">
                Wohnen
            </h:link>
            
            <!-- Gewerbe -->
            <h:link styleClass="menu_item" outcome="search">
                Gewerbe
            </h:link>
            
            <!-- Anbieten -->
            <h:link styleClass="menu_item" outcome="create">
                Anbieten
            </h:link>
            
            <!-- Versichern -->
            <h:link styleClass="menu_item" outcome="insure">
                Versichern
            </h:link>

            <!-- Login: Form -->
            <h:panelGroup rendered="#{!account.isLoggedIn}">
                <div class="menu_item menu_item_login">
                    <div style="position:fixed">
                        <h:link outcome="login">
                            Login
                        </h:link>
                        <div class="menu_item_login_content">
                            <h:form>
                                <h:inputText
                                    value="#{login.email}"
                                    styleClass="inputText login_smallInputText login_smallInputText_mail"
                                    a:placeholder="E-Mail"/>

                                <h:inputSecret
                                    value="#{login.password}"
                                    styleClass="inputText login_smallInputText login_smallInputText_password"
                                    a:placeholder="Passwort"/>

                                <div class="login_links_small">
                                    <h:outputLink
                                        value="login.xhtml" 
                                        styleClass="login_small_link_register" >
                                        Registrieren
                                    </h:outputLink>

                                    <h:outputLink
                                        value="login.xhtml"
                                        styleClass="login_small_link_forgot">
                                        Passwort vergessen?
                                    </h:outputLink>
                                </div>

                                <h:commandButton
                                    action="#{login.login}"
                                    value="Login"
                                    styleClass="button login_button_small" />

                            </h:form>


                        </div>
                    </div>
                </div>
            </h:panelGroup>

            <!-- Login: Account -->
            <h:panelGroup rendered="#{account.isLoggedIn}">

                <div class="mein_konto">

                    <h:graphicImage
                        value="#{resource['img/user_icon.png']}"
                        styleClass="user_icon" />

                    <div class="mein_konto_name">
                        <h:outputText value="#{account.name}" />
                    </div>

                    <h:form style="display: none">
                        <h:commandLink action="#{account.logout}">
                            Ausloggen
                        </h:commandLink>
                    </h:form>

                </div>

            </h:panelGroup>

        </ui:composition>
    </h:body>
</html>